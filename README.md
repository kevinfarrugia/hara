# HAR Analyzer

**HAR A**nalyzer is a Node.js-based tool for performing simple analysis on HTTP Archive (.har) files.

## Why?

HAR (HTTP Archive) files are generated by the browser or [WebPageTest](https://webpagetest.org) containing timing information for each page and resource requested during the captured session. HAR Analyzer aggregates & formats this data to return timing information for each request type and allow you to identify performance bottlenecks or issues.

## Installation

```sh
npm -g install hara
```

or

```sh
yarn global add hara
```

## CLI usage

```sh
hara one.har two.har -o one.json two.json
```

As a CSV file using `--csv`/`-c` flag:

```sh
hara one.har --csv
```

Or use the `--folder`/`-f` flag to process a whole folder of SVG icons

```sh
hara -f ./path/to/input/ -o ./path/to/output/
```

See help for advanced usage

```sh
hara --help
```

## Sample Output

### JSON

```json
"script": {
  "noOfRequests": 209,
  "medianTime": 63,
  "ninetyFifthTime": 369,
  "medianTimings": {
    "blocked": 2,
    "wait": 41,
    "receive": 3
  },
  "ninetyFifthTimings": {
    "blocked": 34,
    "wait": 305,
    "receive": 49
  },
  "bytesTransferred": 2588789,
  "topUrl": {
    "url": "https://api.bounceexchange.com/bounce/reloadCampaigns.js",
    "noOfOccurrences": 9
  },
  "largest": {
    "url": "https://example.com/assets/main.15d4611c9e8a420327bf.js",
    "bytes": 1497777
  },
  "largestCompressed": {
    "url": "https://example.com/assets/main.15d4611c9e8a420327bf.js",
    "bytesTransferred": 331677
  },
  "longest": {
    "url": "https://cdn.speedcurve.com/js/lux.js",
    "time": 600,
    "timings": {
      "blocked": 48,
      "wait": 545,
      "receive": 1,
      "connect": -1
    }
  }
}
```

### CSV

The CSV output could be placed in a chart using Google Sheets or Excel.

![Transfer Size](https://user-images.githubusercontent.com/8075326/122784992-40054c00-d2b3-11eb-8df8-97d4c6a15313.png)


## HAR files

You may record a HAR file from your browser or from WebPageTest.

### Google Chrome

- Open **Developer Tools**
- Select the **Network Tab**
- Right click anywhere in the panel and select **Save all as HAR with content**

![Save all as HAR with content](https://user-images.githubusercontent.com/8075326/123086267-7cf05080-d423-11eb-9bb9-24bc213d8d25.gif)

### WebPageTest

- Go to [webpagetest.org](https://webpagetest.org) and run a test against your webpage.
- Once the test has completed, on the Summary page click on **Export HTTP Archive (.har)**

![Export HTTP Archive (.har)](https://user-images.githubusercontent.com/8075326/123086190-6944ea00-d423-11eb-99e2-54a73b12a25f.jpg)


## License and Copyright

This software is released under the terms of the [MIT license](https://github.com/kevinfarrugia/hara/blob/main/LICENSE).
